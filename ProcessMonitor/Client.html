<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Product App</title>
  <style>
    table, th, td {
      border: 1px solid black;
    } 
  </style>
</head>
<body>

    <h2>Process table:</h2>
    <table id="tbl_id">
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Memory use</th>
      </tr>
      <tr>
        <td>1</td>
        <td>Notepad</td>
        <td>5%</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Starcraft</td>
        <td>10%</td>
      </tr>
    </table>

    



  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    var uri = 'http://127.0.0.1:8080/api/process';

    
    
    function updateProcessTable(json){

      function getProcessMarkup (record){
        return '<tr> <td>' + record.Id + '</td>' + '<td>' + record.Name + '</td></tr>'
      }

      processTable = $("#tbl_id");
      processTable.empty();
      for(let i = 0; i < json.length; i++) {
        let record = json[i];
        markup = getProcessMarkup(record);
        processTable.append(markup);

      //console.log(obj.id);
      }
    }

    var dummy = {
      "processes":[
        {"Id":"1", "Name":"Visual Studio"},
        {"Id":"2", "Name":"Chrome Browser"},
        {"Id":"3", "Name":"Starcraft"}
      ]
    };

    $(document).ready(function () {

      




      // Send an AJAX request
        $.getJSON(uri, function(data) {
            console.log(data);
            if (!jQuery.isEmptyObject(data)){
              updateProcessTable(data);
            }
            
        // JSON result in `data` variable
        });
    });

    function formatItem(item) {
      return item.Id + ': $' + item.Name;
    }

  </script>
</body>
</html>